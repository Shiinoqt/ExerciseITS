<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fetch API Examples</title>
</head>
<body>
<h1>Fetch API Examples</h1>
<button onclick="getDataPromise()">Fetch with Promises</button>
<button onclick="getDataAsync()">Fetch with Async/Await</button>
<div id="output"></div>

<script>
// Configure your API endpoint here
const URL_API = "https://jsonplaceholder.typicode.com/users/1";

// Version 1: Using Promises (.then/.catch)
function getDataPromise() {
  fetch(URL_API)
    .then(response => {
      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
      return response.json();
    })
    .then(data => {
      console.log('Promise data:', data);
      displayData(data);
    })
    .catch(e => {
      console.error('Promise error:', e);
      displayError(e);
    });
}

// Version 2: Using async/await
async function getDataAsync() {
  try {
    const response = await fetch(URL_API);
    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
    const data = await response.json();
    console.log('Async data:', data);
    displayData(data);
  } catch (e) {
    console.error('Async error:', e);
    displayError(e);
  }
}

// Version 3: React-style arrow function with async
const getDataReact = async () => {
  try {
    const response = await fetch(URL_API);
    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
    const data = await response.json();
    console.log('React-style data:', data);
    return data;
  } catch (e) {
    console.error('React-style error:', e);
    throw e;
  }
};

// Helper functions to display results
function displayData(data) {
  const output = document.getElementById('output');
  output.innerHTML = `<pre style="background: #f0f0f0; padding: 15px; border-radius: 5px;">${JSON.stringify(data, null, 2)}</pre>`;
}

function displayError(error) {
  const output = document.getElementById('output');
  output.innerHTML = `<div style="color: red; padding: 15px; background: #ffe0e0; border-radius: 5px;">Error: ${error.message}</div>`;
}
</script>
</body>
</html>